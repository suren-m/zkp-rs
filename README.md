# [WIP] - zkp-rs
Zero Knowledge Proof demonstration in Rust using client-server model. 

## Local using `cargo run`

![Screenshot from 2022-04-13 14-28-42](https://user-images.githubusercontent.com/3830633/163191624-f13b8984-8cb9-457b-b5a7-55488b5f3737.png)

## Docker compose `docker-compose up`

![Screenshot from 2022-04-13 17-06-25](https://user-images.githubusercontent.com/3830633/163223184-3f8ff998-e56b-407c-87ba-67fb2b9ec8f5.png)

## Helm chart deployment on Kubernetes


---

### For convenience, below limits are set on key values of the algorithm used during computation.

> These limits help avoiding `u128` arithmetic overflows during `a.pow(b)` and prevent getting negative values when calculating `s = k - c.x` (answer). In real-world implementation, these ranges will be much higher and specialized data structures will be implemented to handle very large numbers.

```rust
pub const MAX_USERNAME_LEN: usize = 50;

// min seed value (random k) set such that "s = k - c.x" is always positive.
pub const MIN_SEED_VAL: u32 = 100;

// max random 'k' value.
// Max value set so that r1 = g^K and r2 = h^K operations don't cause overflows
pub const MAX_SEED_VAL: u32 = 125;

// Max value set so that y1 = g^x and y2 = h^x operations don't cause overflows
pub const MAX_SECRET_VAL: u32 = 25;

// Used when client is making the register commit
// smaller value for convenience when computing y1 = g^x and y2 = h^x as well as r1 = g^k, r2 = h^k
// where k is a random seed generated by client and x is the secret
pub const G: u128 = 1;
pub const H: u128 = 2;

// to avoid negative values during "s = k - c.x" calculation
pub const MAX_CHALLENGE_VAL: u32 = 4;

// Commits creation from client - r1, r2, y1, y2 are all `u128`
pub fn create_register_commits(k: Seed, secret: u32) -> Commits {
    Commits {
        r1: G.pow(k.val),
        r2: H.pow(k.val),
        y1: G.pow(secret),
        y2: H.pow(secret),
    }
}
```

<!-- | CI Build and Tests |
| --------------- | -->
| ![CI Build and Tests](https://github.com/suren-m/zkp-rs/actions/workflows/pr-checks.yml/badge.svg) | 
[![build-and-push-zkp-container-images](https://github.com/suren-m/zkp-rs/actions/workflows/build-and-publish-images.yml/badge.svg?branch=main)](https://github.com/suren-m/zkp-rs/actions/workflows/build-and-publish-images.yml)
